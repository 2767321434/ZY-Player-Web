(function(t){function e(e){for(var n,s,o=e[0],c=e[1],u=e[2],h=0,p=[];h<o.length;h++)s=o[h],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,e=0;e<i.length;e++){for(var r=i[e],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},a={app:0},i=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("div",{staticClass:"header"},[n("KPCButton",{attrs:{icon:"",circle:""},on:{click:t.historyBtnEvent}},[n("KPCIcon",{staticClass:"ion-ios-clock-outline"})],1),n("KPCButton",{attrs:{icon:"",circle:""},on:{click:t.starBtnEvent}},[n("KPCIcon",{staticClass:"ion-ios-heart-outline"})],1),n("KPCButton",{attrs:{icon:"",circle:""},on:{click:t.settingBtnEvent}},[n("KPCIcon",{staticClass:"ion-ios-gear"})],1)],1),n("div",{staticClass:"body"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.show.player,expression:"!show.player"}],staticClass:"input"},[n("KPCInput",{attrs:{placeholder:"请输入 M3U8 格式的播放链接...",clearable:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.enterEvent(e)}},model:{value:t.vUrl,callback:function(e){t.vUrl=e},expression:"vUrl"}},[n("template",{slot:"append"},[n("KPCButton",{attrs:{icon:"",type:"none"},on:{click:t.enterEvent}},[n("KPCIcon",{staticClass:"ion-play"})],1)],1)],2)],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.show.player,expression:"show.player"}],staticClass:"box"},[n("div",{staticClass:"xgplayer",attrs:{id:"xgplayer"}})])]),n("KPCDrawer",{ref:"history",attrs:{title:"播放记录"},model:{value:t.show.history,callback:function(e){t.$set(t.show,"history",e)},expression:"show.history"}},[n("div",{staticClass:"history-header"},[n("KPCButton",{attrs:{type:"warning"},on:{click:function(e){return t.historyClear()}}},[t._v("清空播放记录")])],1),n("div",{staticClass:"history-body"},[n("ul",t._l(t.list.history,(function(e,r){return n("li",{key:r,on:{click:function(r){return r.stopPropagation(),t.historyItemClick(e)}}},[n("span",[t._v(t._s(e.name))]),n("a",{attrs:{href:e.host,target:"_blank"}},[t._v(t._s(e.host))]),n("span",[t._v(t._s(e.date))])])})),0)])]),n("KPCDrawer",{ref:"star",attrs:{title:"收藏夹"},model:{value:t.show.star,callback:function(e){t.$set(t.show,"star",e)},expression:"show.star"}},[n("div",{staticClass:"star-header"},[n("KPCButton",{attrs:{type:"warning"},on:{click:function(e){return t.starClear()}}},[t._v("清空收藏夹")])],1),n("div",{staticClass:"star-body"},[n("ul",t._l(t.list.star,(function(e,r){return n("li",{key:r,on:{click:function(r){return r.stopPropagation(),t.starItemClick(e)}}},[n("span",[t._v(t._s(e.name))]),n("a",{attrs:{href:e.host,target:"_blank"}},[t._v(t._s(e.host))]),n("span",[t._v(t._s(e.date))])])})),0)])]),n("KPCDrawer",{ref:"setting",attrs:{title:"设置"},model:{value:t.show.setting,callback:function(e){t.$set(t.show,"setting",e)},expression:"show.setting"}},[n("div",{staticClass:"setting-body"},[n("div",{staticClass:"logo"},[n("img",{attrs:{src:r("cf05"),alt:""}}),n("h2",[t._v("ZY Player Web")]),n("p",[n("a",{attrs:{href:"https://github.com/Hunlongyu/ZY-Player-Web",target:"_blank"}},[t._v("Github")]),n("a",{attrs:{href:"https://github.com/Hunlongyu/ZY-Player-Web/issues",target:"_blank"}},[t._v("反馈")]),n("a",{attrs:{href:"https://github.com/Hunlongyu/ZY-Player",target:"_blank"}},[t._v("电脑端")]),n("a",{attrs:{href:"https://github.com/Hunlongyu/ZY-Player-APP",target:"_blank"}},[t._v("手机端")])])]),n("div",{staticClass:"setting-item"},[t._v("记录播放历史："),n("KSwitch",{attrs:{on:"开启",off:"关闭",width:"70"},on:{click:t.hsChange},model:{value:t.historySwitch,callback:function(e){t.historySwitch=e},expression:"historySwitch"}})],1),n("div",{staticClass:"setting-item"},[t._v("所有资源来自网上, 该软件不参与任何制作, 上传等内容. 该软件仅供学习参考, 请于安装后24小时内删除.")])])])],1)},i=[],s=(r("7db0"),r("c975"),r("b0c0"),r("4d63"),r("ac1f"),r("25f0"),r("466d"),r("841c"),r("b85c")),o=r("5530"),c=(r("96cf"),r("1da1")),u=r("5336"),l=r("c7c2"),h=r("6e0b"),p=r("63cb"),f=r("9d2f"),v=r("d6f9"),d=r("5392"),g=r.n(d),m=r("9000"),w=r.n(m),y=r("d4ec"),b=r("bee2"),x=r("4dec"),k=new x["a"]("ZYPlayerWeb");k.version(2).stores({setting:"id, theme, volume",star:"++id, name, url, date, host",history:"++id, name, url, date, host, time"});var R=[{id:0,theme:"light",history:!0}];k.on("populate",(function(){k.setting.bulkAdd(R)})),k.open();var C=function(){function t(){Object(y["a"])(this,t)}return Object(b["a"])(t,[{key:"add",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.history.add(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"find",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.history.where(e).first();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"update",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.history.update(e,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"all",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.history.toArray();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"remove",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.history.delete(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"clear",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.history.clear();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),O=function(){function t(){Object(y["a"])(this,t)}return Object(b["a"])(t,[{key:"add",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.star.add(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"find",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.star.where(e).first();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"update",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e,r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.star.update(e,r);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e,r){return t.apply(this,arguments)}return e}()},{key:"all",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.star.toArray();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"remove",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.star.delete(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"clear",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.star.clear();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),j=function(){function t(){Object(y["a"])(this,t)}return Object(b["a"])(t,[{key:"find",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.setting.get({id:0});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},{key:"update",value:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,k.setting.update(0,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}]),t}(),P=new C,_=new O,S=new j,U={name:"App",data:function(){return{vUrl:"",vName:"",vHost:"",show:{history:!1,star:!1,setting:!1,player:!1},list:{history:[],star:[]},setting:{},xg:null,config:{id:"xgplayer",url:"",lang:"zh-cn",width:"100%",height:"100%",autoplay:!1,videoInit:!0,screenShot:!0,keyShortcut:"on",crossOrigin:!0,defaultPlaybackRate:1,playbackRate:[.25,.5,.75,1,1.25,1.5,1.75,2,3,4,5],airplay:!1},timer:null,historySwitch:!1}},components:{KPCButton:u["a"],KPCIcon:h["a"],KPCDrawer:l["a"],KPCInput:p["a"],KSwitch:v["a"]},methods:{getParam:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),r=window.location.search.substr(1).match(e);return null!==r?decodeURI(r[2]):null},getInfo:function(){this.vUrl=this.getParam("url"),this.vName=this.getParam("name"),this.vHost=this.getParam("host"),this.vUrl&&this.playUrl(this.vUrl)},playUrl:function(){if(-1!==this.vUrl.indexOf("m3u8"))return this.config.url=this.vUrl,this.show.player=!0,this.xg=new w.a(this.config),this.addStarBtn(),this.videoPlaying(),!1;f["a"].warning("输入的链接格式有问题， 请确认后重试。")},videoPlaying:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.checkStar(),e.next=3,S.find();case 3:if(r=e.sent,r.history){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,P.find({url:t.vUrl});case 8:n=e.sent,a={name:t.vName,url:t.vUrl,host:t.vHost,date:(new Date).toLocaleString(),time:0},n?(t.xg.currentTime=n.time,P.update(n.id,a)):P.add(a),t.timerEvent();case 12:case"end":return e.stop()}}),e)})))()},timerEvent:function(){var t=this;this.timer=setInterval(Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.find({url:t.vUrl});case 2:if(r=e.sent,!r){e.next=10;break}return n=Object(o["a"])({},r),n.time=t.xg.currentTime,n.date=(new Date).toLocaleString(),delete n.id,e.next=10,P.update(r.id,n);case 10:case"end":return e.stop()}}),e)}))),5e3)},historyBtnEvent:function(){this.show.history=!this.show.history,this.getHistory()},starBtnEvent:function(){this.show.star=!this.show.star,this.getStar()},settingBtnEvent:function(){this.show.setting=!this.show.setting,this.getSetting()},getSetting:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.find();case 2:r=e.sent,t.setting=r,t.historySwitch=r.history;case 5:case"end":return e.stop()}}),e)})))()},getStar:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.all();case 2:r=e.sent,t.list.star=r.reverse();case 4:case"end":return e.stop()}}),e)})))()},getHistory:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.all();case 2:r=e.sent,t.list.history=r.reverse();case 4:case"end":return e.stop()}}),e)})))()},checkStar:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.find({url:t.vUrl});case 2:r=e.sent,n=document.querySelector(".xgplayer-star"),r?(a=n.classList.contains("active"),a||n.classList.add("active")):(i=n.classList.contains("active"),i&&n.classList.remove("active"));case 5:case"end":return e.stop()}}),e)})))()},starEvent:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.find({url:t.vUrl});case 2:if(r=e.sent,!r){e.next=9;break}return e.next=6,_.remove(r.id);case 6:f["a"].success("移除收藏成功。"),e.next=12;break;case 9:return e.next=11,_.add({name:t.vName,url:t.vUrl,host:t.vHost,date:(new Date).toLocaleString()});case 11:f["a"].success("添加收藏成功。");case 12:n=document.querySelector(".xgplayer-star"),n.classList.toggle("active");case 14:case"end":return e.stop()}}),e)})))()},addStarBtn:function(){var t=this;this.xg.on("ready",(function(){var e,r=document.querySelector(".xgplayer-controls").childNodes,n=Object(s["a"])(r);try{for(n.s();!(e=n.n()).done;){var a=e.value,i=a.classList.contains("xgplayer-star");if(i)return!1}}catch(h){n.e(h)}finally{n.f()}var o=t.xg.controls,c=g.a.util,u='<svg t="1606442580426" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3119" width="21" height="21"><path d="M755.2 64c-107.616 0-200.256 87.552-243.168 179.008C469.088 151.552 376.448 64 268.8 64 120.416 64 0 184.448 0 332.832c0 301.856 304.512 380.992 512.032 679.424C708.192 715.68 1024 625.056 1024 332.832 1024 184.448 903.584 64 755.2 64z" p-id="3120" fill="#ffffff"></path></svg>',l=c.createDom("xg-star",u,{title:"收藏"},"xgplayer-star");o.appendChild(l),l.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),t.starEvent()})),t.checkStar()}))},starClear:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.clear();case 2:f["a"].success("清空收藏夹成功。"),t.getStar();case 4:case"end":return e.stop()}}),e)})))()},starItemClick:function(t){this.vUrl=t.url,this.vName=t.name,this.xg&&this.xg.hasStart?this.xg.src=t.url:this.xg.start(t.url),document.title=t.name,this.show.star=!1,this.videoPlaying()},historyClear:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.clear();case 2:f["a"].success("清空收藏夹成功。"),t.getHistory();case 4:case"end":return e.stop()}}),e)})))()},historyItemClick:function(t){this.vUrl=t.url,this.vName=t.name,this.xg&&this.xg.hasStart?this.xg.src=t.url:this.xg.start(t.url),document.title=t.name,this.show.history=!1,this.videoPlaying()},hsChange:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S.find();case 2:r=e.sent,n=Object(o["a"])({},r),n.history=t.historySwitch,S.update(n);case 6:case"end":return e.stop()}}),e)})))()},enterEvent:function(){this.vUrl?(this.vName="未知资源"+(new Date).getTime(),this.playUrl()):f["a"].warning("请输入 M3U8 格式的播放链接。")}},mounted:function(){this.getSetting(),this.getInfo()}},K=U,E=(r("5c0b"),r("2877")),B=Object(E["a"])(K,a,i,!1,null,null,null),I=B.exports,N=r("9483");Object(N["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}}),n["default"].config.productionTip=!1,new n["default"]({render:function(t){return t(I)}}).$mount("#app")},"5c0b":function(t,e,r){"use strict";r("9c0c")},"9c0c":function(t,e,r){},cf05:function(t,e,r){t.exports=r.p+"img/logo.3535fb1b.png"}});